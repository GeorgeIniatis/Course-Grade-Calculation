{% extends 'chemapp/base.html' %}

{% block title_block %}
Courses
{% endblock %}

{% block body_block %}

<div class="container  ">
  <h2> Courses </h2>



  {% if levels %}
  <!-- this is for the year 1 dropdown -->
  {% if '1' in levels.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-1" role="button" aria-expanded="false" aria-controls="undergrad-year-1">
      Year 1 Courses
    </a>
  </div>
  <!-- Section for year 1 courses -->
  <div class="collapse " id="undergrad-year-1">
    <div class="row align-items-start pt-3 ">
      {% for key,value in courses.items %}
      {% if value.0 == '1' %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ value.2 }}</h2>
          <p class="text-uppercase">{{ value.1 }}<br>{{ value.4 }}</p>
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}



  <!-- this is for the year 2 dropdown -->
  {% if '2' in levels.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-2" role="button" aria-expanded="false" aria-controls="undergrad-year-2">
      Year 2 Courses
    </a>
  </div>
  <!-- Section for year 2 courses -->
  <div class="collapse " id="undergrad-year-2">
    <div class="row align-items-start pt-3">
      {% for key,value in courses.items %}
      {% if value.0 == '2' %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ value.2 }}</h2>
          <p class="text-uppercase">{{ value.1 }}<br>{{ value.4 }}</p>
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}




  <!-- this is for the honours dropdown -->
  {% if '3' in levels.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-3" role="button" aria-expanded="false" aria-controls="undergrad-year-3">
      Honours Courses
    </a>
  </div>
  <!-- Section for honours courses -->
  <div class="collapse " id="undergrad-year-3">
    <div class="row align-items-start pt-3">
      {% for key,value in courses.items %}
      {% if value.0 == '3' %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ value.2 }}</h2>
          <p class="text-uppercase">{{ value.1 }}<br>{{ value.4 }}</p>
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}




  <!-- this is for the postgraduate dropdown -->
  {% if '4' in levels.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-4" role="button" aria-expanded="false" aria-controls="undergrad-year-4">
      Postgraduate Courses
    </a>
  </div>
  <!-- Section for postgraduate courses -->
  <div class="collapse " id="undergrad-year-4">
    <div class="row align-items-start pt-3">
      {% for key,value in courses.items %}
      {% if value.0 == '4' %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ value.2 }}</h2>
          <p class="text-uppercase">{{ value.1 }}<br>{{ value.4 }}</p>
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}

  {% else %}
  <h4>There are no courses!</h4>
  {% endif %}
  {% if perms.chemapp.add_course %}
  <div class="mt-3 d-grid gap-2 d-md-flex justify-content-md-start">
    <!-- Add Course Button -->
    <a class="btn btn-success " href="{% url 'chemapp:add_course' %}"><i class="bi bi-plus"></i> Add a course</a>
    <!-- Upload Course Button -->
    <a class="btn btn-primary " href="{% url 'chemapp:upload_course_csv' %}"><i class="pe-1 bi bi-file-earmark-arrow-up"></i> Upload CSV File</a>
  </div>
  {% endif %}
</div>
{% endblock %}
