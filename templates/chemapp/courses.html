{% extends 'chemapp/base.html' %}

{% block title_block %}
Courses
{% endblock %}

{% block body_block %}

<div class="container  ">
  <h2> Courses </h2>



  {% if years %}
  <!-- this is for the year 1 dropdown -->
  {% if 1 in years.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-1" role="button" aria-expanded="false" aria-controls="undergrad-year-1">
      Year 1 Courses
    </a>
  </div>
  <!-- Sectionfor year 1 courses -->
  <div class="collapse " id="undergrad-year-1">
    <div class="row align-items-start pt-3">
      {% for key,value in courses.items %}
      {% if value.0 == 1 %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ key }}</h2>
          {{ value.2 }}
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}



  <!-- this is for the year 2 dropdown -->
  {% if 2 in years.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-2" role="button" aria-expanded="false" aria-controls="undergrad-year-2">
      Year 2 Courses
    </a>
  </div>
  <!-- Sectionfor year 2 courses -->
  <div class="collapse " id="undergrad-year-2">
    <div class="row align-items-start pt-3">
      {% for key,value in courses.items %}
      {% if value.0 == 2 %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ key }}</h2>
          {{ value.2 }}
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}




  <!-- this is for the year 3 dropdown -->
  {% if 3 in years.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-3" role="button" aria-expanded="false" aria-controls="undergrad-year-3">
      Year 3 Courses
    </a>
  </div>
  <!-- Sectionfor year 3 courses -->
  <div class="collapse " id="undergrad-year-3">
    <div class="row align-items-start pt-3">
      {% for key,value in courses.items %}
      {% if value.0 == 3 %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ key }}</h2>
          {{ value.2 }}
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}




  <!-- this is for the year 4 dropdown -->
  {% if 4 in years.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-4" role="button" aria-expanded="false" aria-controls="undergrad-year-4">
      Year 4 Courses
    </a>
  </div>
  <!-- Sectionfor year 4 courses -->
  <div class="collapse " id="undergrad-year-4">
    <div class="row align-items-start pt-3">
      {% for key,value in courses.items %}
      {% if value.0 == 4 %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ key }}</h2>
          {{ value.2 }}
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}




  <!-- this is for the year 5 dropdown -->
  {% if 5 in years.values %}
  <div class="d-grid gap-2  mt-3 mx-auto">
    <a class="btn btn-block btn-primary " data-bs-toggle="collapse" href="#undergrad-year-5" role="button" aria-expanded="false" aria-controls="undergrad-year-5">
      Year 5 Courses
    </a>
  </div>
  <!-- Sectionfor year 5 courses -->
  <div class="collapse " id="undergrad-year-5">
    <div class="row align-items-start pt-3">
      {% for key,value in courses.items %}
      {% if value.0 == 5 %}

      <div class="col-3 d-grid gap-2 mt-3"  >
        <a class="btn text-start  pb-5" style="background-color:{{value.3}}" href="{{ value.1 }}" role="button">
          <h2>{{ key }}</h2>
          {{ value.2 }}
        </a>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}



  <div class="mt-3 d-grid gap-2 d-md-flex justify-content-md-start">
    <!-- Add Course Button -->
    <a class="btn btn-danger " href="{% url 'chemapp:add_course' %}"><i class="bi bi-plus"></i> Add a course</a>
    <!-- Upload Course Button -->
    <a class="btn btn-danger " href="{% url 'chemapp:upload_course_csv' %}"><i class="pe-1 bi bi-file-earmark-arrow-up"></i> Upload CSV File</a>
  </div>
  {% else %}
  <h4>There are no courses!</h4>
  <div class="mt-3 d-grid gap-2 d-md-flex justify-content-md-start">
    <!-- Add Course Button -->
    <a class="btn btn-danger " href="{% url 'chemapp:add_course' %}"><i class="bi bi-plus"></i> Add a course</a>
    <!-- Upload Course Button -->
    <a class="btn btn-danger " href="{% url 'chemapp:upload_course_csv' %}"><i class="pe-1 bi bi-file-earmark-arrow-up"></i> Upload CSV File</a>
  </div>
  {% endif %}
</div>
{% endblock %}
